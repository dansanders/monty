## Problem 10: Summation of Primes

import std::bit_array

fn solve(N: Int) -> Int:
    fn primes() -> Iter[Int]:
        composite = bit_array::BitArray::zeros(N)
        q = 2
        while composite.try_find(0, q) is Some(p):
            yield p
            for m in (p**2).up_to(N - 1, p):
                composite[m] = 1
            q = p + 1

    primes().sum()

test example:
    expect solve(10) == 17
